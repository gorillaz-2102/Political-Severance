<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Tableau de Mon Gouvernement</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #f9f9f9, #dbeeff);
    }

    h1 {
      text-align: center;
      color: #002366;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 30px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 12px;
      text-align: center;
    }

    th {
      background-color: #002366;
      color: white;
    }

    tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    .back-button {
      display: inline-block;
      margin-top: 20px;
      background-color: #002366;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      text-decoration: none;
      font-weight: bold;
    }

    .back-button:hover {
      background-color: #001a4d;
    }
  </style>
</head>
<body>

  <h1>Tableau des Nominations</h1>

  <table id="resultTable">
    <thead>
      <tr>
        <th>Fonction</th>
        <th>Nom</th>
      </tr>
    </thead>
    <tbody>
      <!-- Données injectées ici par JS -->
    </tbody>
  </table>

  <div style="text-align: center;">
    <a href="index.html" class="back-button">← Retour</a>
  </div>

  <script>
    // Récupération des données du gouvernement
    const data = JSON.parse(localStorage.getItem("gouvernement")) || [];

    const tbody = document.querySelector("#resultTable tbody");

    if (data.length === 0) {
      const tr = document.createElement("tr");
      const td = document.createElement("td");
      td.colSpan = 2;
      td.textContent = "Aucune donnée reçue.";
      tr.appendChild(td);
      tbody.appendChild(tr);
    } else {
      data.forEach(entry => {
        const tr = document.createElement("tr");

        const tdFonction = document.createElement("td");
        tdFonction.textContent = entry.fonction;
        tr.appendChild(tdFonction);

        const tdNom = document.createElement("td");
        tdNom.textContent = entry.nom || "—";
        tr.appendChild(tdNom);

        tbody.appendChild(tr);
      });
    }
  </script>
</body>
</html>

